<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>MySQL从安装到精通(一)---基础篇 | 园游会</title><meta name="author" content="Xi17g3"><meta name="copyright" content="Xi17g3"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="(一)基础篇By Xi17g3MySQL概述前期准备MySQL的下载与安装从MySQL官网下载MySQL Community Server版本： 下载地址：MySQL官网 点击Downloads  找到对应的版本，下载最新版本即可：   在文件夹找到自己下载的安装文件：  进入选择选择自定义安装方式，然后点击next，进入下一步：  选x64版本的MySQL：  install Directory">
<meta property="og:type" content="article">
<meta property="og:title" content="MySQL从安装到精通(一)---基础篇">
<meta property="og:url" content="http://youyuanhui123.github.io/2024/08/23/MySQL%E4%BB%8E%E5%AE%89%E8%A3%85%E5%88%B0%E7%B2%BE%E9%80%9A-%E4%B8%80-%E5%9F%BA%E7%A1%80%E7%AF%87/index.html">
<meta property="og:site_name" content="园游会">
<meta property="og:description" content="(一)基础篇By Xi17g3MySQL概述前期准备MySQL的下载与安装从MySQL官网下载MySQL Community Server版本： 下载地址：MySQL官网 点击Downloads  找到对应的版本，下载最新版本即可：   在文件夹找到自己下载的安装文件：  进入选择选择自定义安装方式，然后点击next，进入下一步：  选x64版本的MySQL：  install Directory">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://youyuanhui123.github.io/img/Xi17g3.jpg">
<meta property="article:published_time" content="2024-08-23T13:46:56.000Z">
<meta property="article:modified_time" content="2024-09-10T10:45:10.287Z">
<meta property="article:author" content="Xi17g3">
<meta property="article:tag" content="MySQL">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://youyuanhui123.github.io/img/Xi17g3.jpg"><link rel="shortcut icon" href="/img/44ziyuan2-copy.png"><link rel="canonical" href="http://youyuanhui123.github.io/2024/08/23/MySQL%E4%BB%8E%E5%AE%89%E8%A3%85%E5%88%B0%E7%B2%BE%E9%80%9A-%E4%B8%80-%E5%9F%BA%E7%A1%80%E7%AF%87/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>(()=>{
      const saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
      
      window.btf = {
        saveToLocal: saveToLocal,
        getScript: (url, attr = {}) => new Promise((resolve, reject) => {
          const script = document.createElement('script')
          script.src = url
          script.async = true
          script.onerror = reject
          script.onload = script.onreadystatechange = function() {
            const loadState = this.readyState
            if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
            script.onload = script.onreadystatechange = null
            resolve()
          }

          Object.keys(attr).forEach(key => {
            script.setAttribute(key, attr[key])
          })

          document.head.appendChild(script)
        }),

        getCSS: (url, id = false) => new Promise((resolve, reject) => {
          const link = document.createElement('link')
          link.rel = 'stylesheet'
          link.href = url
          if (id) link.id = id
          link.onerror = reject
          link.onload = link.onreadystatechange = function() {
            const loadState = this.readyState
            if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
            link.onload = link.onreadystatechange = null
            resolve()
          }
          document.head.appendChild(link)
        }),

        addGlobalFn: (key, fn, name = false, parent = window) => {
          const pjaxEnable = false
          if (!pjaxEnable && key.startsWith('pjax')) return

          const globalFn = parent.globalFn || {}
          const keyObj = globalFn[key] || {}
    
          if (name && keyObj[name]) return
    
          name = name || Object.keys(keyObj).length
          keyObj[name] = fn
          globalFn[key] = keyObj
          parent.globalFn = globalFn
        }
      }
    
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode
      
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })()</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'MySQL从安装到精通(一)---基础篇',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-09-10 18:45:10'
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    btf.addGlobalFn('pjaxSend', () => { preloader.initLoading() }, 'preloader_init')
    btf.addGlobalFn('pjaxComplete', () => { preloader.endLoading() }, 'preloader_end')
  }
})()</script><div id="web_bg" style="background-color: #59B1F5;"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/laze.gif" data-original="/img/Xi17g3.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">3</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/image/miku.jpg);"><nav id="nav"><span id="blog-info"><a href="/" title="园游会"><span class="site-name">园游会</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">MySQL从安装到精通(一)---基础篇</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-08-23T13:46:56.000Z" title="发表于 2024-08-23 21:46:56">2024-08-23</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-09-10T10:45:10.287Z" title="更新于 2024-09-10 18:45:10">2024-09-10</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%90%8E%E7%AB%AF/">后端</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">6.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>28分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="MySQL从安装到精通(一)---基础篇"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="一-基础篇"><a href="#一-基础篇" class="headerlink" title="(一)基础篇"></a>(一)基础篇</h1><h3 id="By-Xi17g3"><a href="#By-Xi17g3" class="headerlink" title="By Xi17g3"></a>By Xi17g3</h3><h1 id="MySQL概述"><a href="#MySQL概述" class="headerlink" title="MySQL概述"></a>MySQL概述</h1><h2 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h2><h3 id="MySQL的下载与安装"><a href="#MySQL的下载与安装" class="headerlink" title="MySQL的下载与安装"></a>MySQL的下载与安装</h3><p>从MySQL官网下载MySQL Community Server版本：</p>
<p>下载地址：<a target="_blank" rel="noopener" href="https://www.mysql.com/">MySQL官网</a></p>
<p>点击Downloads</p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/a8a3debf5fe040d5a6b531ea38202739.png" alt="a8a3debf5fe040d5a6b531ea38202739"></p>
<p>找到对应的版本，下载最新版本即可：</p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/b08e93cf1b0a49fe8f5e9a253c969711.png" alt="b08e93cf1b0a49fe8f5e9a253c969711"></p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/688860a9b77547ceb2257ecb0e515a47.png" alt="688860a9b77547ceb2257ecb0e515a47"></p>
<p>在文件夹找到自己下载的安装文件：</p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240711192003072.png" alt="20240711192003072"></p>
<p>进入选择选择自定义安装方式，然后点击next，进入下一步：</p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/4f29219b42084b4f9525c35aef4dd1bd.png" alt="4f29219b42084b4f9525c35aef4dd1bd"></p>
<p>选x64版本的MySQL：</p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/37ea882cf41e4b9b859debc197b9eb9e.png" alt="37ea882cf41e4b9b859debc197b9eb9e"></p>
<p>install Directory是MySQL软件的安装路径<br>Data Directory是<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=MySQL%E6%95%B0%E6%8D%AE%E5%BA%93&spm=1001.2101.3001.7020">MySQL数据库</a>数据存放的路径，这里不建议修改，然后next：</p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/c831f5bc5a7840abacaf947e43153487.png" alt="c831f5bc5a7840abacaf947e43153487"></p>
<p>点击Execute，进行安装前检查：</p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/fdb1472b925d4eda96f677d2e8b89771.png" alt="fdb1472b925d4eda96f677d2e8b89771"></p>
<p>接下来一路next…</p>
<p>输入数据库密码，点击next，进入下一步：</p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/5673be0a61e64718a0e2a032be7faa58.png" alt="5673be0a61e64718a0e2a032be7faa58"></p>
<p>默认数据库名字，点击next，进入下一步：</p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/0419d326424341f1a07f9db518908c77.png" alt="0419d326424341f1a07f9db518908c77"></p>
<p>剩下的一路next安装即可</p>
<p><strong>接下来配置系统环境变量</strong></p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240711193219819.png" alt="20240711193219819"></p>
<p>点击环境变量：</p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/9e38e633b509489c8bcd7bfca39c4b21.png" alt="9e38e633b509489c8bcd7bfca39c4b21"></p>
<p>找到系统环境变量里面的Path：</p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240711193407750.png" alt="20240711193407750"></p>
<p>双击编辑，将自己的安装路径添加进去即可，然后点确认：</p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240711193642430.png" alt="20240711193642430"></p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240711193457565.png" alt="20240711193457565"></p>
<p>win+R检测是否安装成功</p>
<p>打开cmd，输入命令：<code>mysql --version</code></p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240711193829947.png" alt="20240711193829947"></p>
<p>输入mysql -u 用户名 -p 后回车，输入密码，打开mysql的执行窗口</p>
<p>连接、启动方式</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">net start mysql80</span><br><span class="line">mysql -u root -p</span><br><span class="line">#输入你之前设置的密码即可</span><br></pre></td></tr></table></figure>

<p><img src="/img/laze.gif" data-original="/img/MySQL/20240711194108488.png" alt="20240711194108488"></p>
<p>至此MySQL已经配置成功</p>
<h3 id="可视化软件DataGrip的安装"><a href="#可视化软件DataGrip的安装" class="headerlink" title="可视化软件DataGrip的安装"></a>可视化软件DataGrip的安装</h3><p>可视化图形界面可以大大提高我们的操作效率，这里我们选用DataGrip，试用30天，建议咸鱼买一个密钥。</p>
<p>官网下载：**<a target="_blank" rel="noopener" href="https://www.jetbrains.com/datagrip/">DataGrip: The Cross-Platform IDE for Databases &amp;&amp; SQL by JetBrains</a>**</p>
<p>配置连接：</p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240711194706143.png" alt="20240711194706143"></p>
<p>点击加号，选择MySQL，root权限，输入之前设置的Password即可</p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240711194813748.png" alt="20240711194813748"></p>
<p>点击Download，然后点击OK即可</p>
<h3 id="什么是MySQL数据库"><a href="#什么是MySQL数据库" class="headerlink" title="什么是MySQL数据库"></a>什么是MySQL数据库</h3><p><img src="/img/laze.gif" data-original="/img/MySQL/20240701190936914.png" alt="20240701190936914"></p>
<h2 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h2><p><img src="/img/laze.gif" data-original="/img/MySQL/20240701191159432.png" alt="20240701191159432"></p>
<h3 id="SQL通用语法及分类"><a href="#SQL通用语法及分类" class="headerlink" title="SQL通用语法及分类"></a>SQL通用语法及分类</h3><ul>
<li>DDL: 数据定义语言，用来定义数据库对象（数据库、表、字段）</li>
<li>DML: 数据操作语言，用来对数据库表中的数据进行增删改</li>
<li>DQL: 数据查询语言，用来查询数据库中表的记录</li>
<li>DCL: 数据控制语言，用来创建数据库用户、控制数据库的控制权限</li>
</ul>
<h3 id="DDL-用来定义数据库"><a href="#DDL-用来定义数据库" class="headerlink" title="DDL(用来定义数据库)"></a>DDL(用来定义数据库)</h3><h4 id="数据库操作"><a href="#数据库操作" class="headerlink" title="数据库操作"></a>数据库操作</h4><p><strong>sys为系统数据库</strong></p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240701193100318.png" alt="20240701193100318"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">查询当前数据库</span><br><span class="line">select database();</span><br></pre></td></tr></table></figure>

<h4 id="表操作"><a href="#表操作" class="headerlink" title="表操作"></a>表操作</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">已经在数据库内，查看表名</span><br><span class="line">show tables;</span><br><span class="line">查询表结构</span><br><span class="line">desc [表名]</span><br><span class="line">查询指定表的建表语句</span><br><span class="line">show create table [表名]</span><br></pre></td></tr></table></figure>

<p><img src="/img/laze.gif" data-original="/img/MySQL/20240701193729156.png" alt="20240701193729156"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">create table tb_user(</span><br><span class="line">id int comment &#x27;编号&#x27;,</span><br><span class="line">name varchar(50) comment &#x27;姓名&#x27;,</span><br><span class="line">age int comment &#x27;年龄&#x27;,</span><br><span class="line">gender varchar(1) comment &#x27;性别&#x27;</span><br><span class="line">) comment &#x27;用户表&#x27;;</span><br><span class="line">#这里的comment xxx，即为起别名</span><br></pre></td></tr></table></figure>

<p><img src="/img/laze.gif" data-original="/img/MySQL/20240701194318441.png" alt="20240701194318441"></p>
<h4 id="数据操作"><a href="#数据操作" class="headerlink" title="数据操作"></a>数据操作</h4><h5 id="数值类型"><a href="#数值类型" class="headerlink" title="数值类型"></a>数值类型</h5><p><img src="/img/laze.gif" data-original="/img/MySQL/20240701194702525.png" alt="20240701194702525"></p>
<h5 id="字符串类型"><a href="#字符串类型" class="headerlink" title="字符串类型"></a>字符串类型</h5><p><img src="/img/laze.gif" data-original="/img/MySQL/20240701194619930.png" alt="20240701194619930"></p>
<h5 id="日期类型"><a href="#日期类型" class="headerlink" title="日期类型"></a>日期类型</h5><p><img src="/img/laze.gif" data-original="/img/MySQL/20240701194749353.png" alt="20240701194749353"></p>
<p>例1 设计一张员工表信息</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">1.编号(纯数字)</span><br><span class="line">2.员工工号(字符串类型，不超过10位)</span><br><span class="line">3.员工姓名(字符串类型，不超过10位)</span><br><span class="line">4.性别(男/女，储存一个汉字)</span><br><span class="line">5.年龄(正常人年龄，不可能储存复数)</span><br><span class="line">6.身份证号(18位身份证，身份证中有x这样的字符)</span><br><span class="line">7.入职时间(取年、月、日)</span><br></pre></td></tr></table></figure>

<p>exp:</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">create table emp(</span><br><span class="line">	id int comment &#x27;编号&#x27;,</span><br><span class="line">	workno varchar(10) comment &#x27;工号&#x27;,</span><br><span class="line">	name varchar(10) comment &#x27;姓名&#x27;,</span><br><span class="line">	gender char(1) comment &#x27;性别&#x27;,</span><br><span class="line">	agte tinyint unsigned comment &#x27;年龄&#x27;,</span><br><span class="line">	idcard char(18) comment &#x27;身份证号&#x27;,</span><br><span class="line">	enterdate date comment &#x27;入职时间&#x27;</span><br><span class="line">)comment &#x27;员工表&#x27;;</span><br></pre></td></tr></table></figure>

<h4 id="表增删改"><a href="#表增删改" class="headerlink" title="表增删改"></a>表增删改</h4><h5 id="增加"><a href="#增加" class="headerlink" title="增加"></a>增加</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alter table [表名] add [字段名] [类型] [comment 注释] [约束];</span><br><span class="line">alter table emp add job varchar(10) comment &#x27;工作&#x27;;</span><br></pre></td></tr></table></figure>

<h5 id="删除"><a href="#删除" class="headerlink" title="删除"></a>删除</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--删除表</span><br><span class="line">drop table [if exist] [表名];</span><br><span class="line">--删除并重新创建此表</span><br><span class="line">truncate table [表名]</span><br><span class="line">--删除字段</span><br><span class="line">alter table [表名] drop [字段名];</span><br></pre></td></tr></table></figure>

<h5 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alter table [表名] modify [字段名] [类型];</span><br><span class="line">alter table [表名] change [旧字段名] [新字段名] [类型] [comment 注释] [约束];</span><br><span class="line">--将emp表的表名修改为employee</span><br><span class="line">alter table emp rename to employee;</span><br></pre></td></tr></table></figure>

<p><img src="/img/laze.gif" data-original="/img/MySQL/20240701202746592.png" alt="20240701202746592"></p>
<h3 id="DML-用来修改对数据库中的表"><a href="#DML-用来修改对数据库中的表" class="headerlink" title="DML(用来修改对数据库中的表)"></a>DML(用来修改对数据库中的表)</h3><h4 id="添加"><a href="#添加" class="headerlink" title="添加"></a>添加</h4><p><img src="/img/laze.gif" data-original="/img/MySQL/20240701225024996.png" alt="20240701225024996"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">insert into [表名] (字段名1,字段名2) values (值1,值2)  #一一对应</span><br><span class="line">--全部字段</span><br><span class="line">insert into [表名] values (值1,值2)</span><br></pre></td></tr></table></figure>

<h4 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">insert into a(id, name) value (1,&#x27;hhh&#x27;);</span><br><span class="line">select * from a;</span><br></pre></td></tr></table></figure>

<p><img src="/img/laze.gif" data-original="/img/MySQL/20240701225732166.png" alt="20240701225732166"></p>
<h4 id="修改-1"><a href="#修改-1" class="headerlink" title="修改"></a>修改</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">update [表名] set [字段名1=值1],[字段名2=值2],...[where 条件];</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">update a set name=&#x27;itname&#x27; where id=1;</span><br><span class="line">select * from  a;</span><br></pre></td></tr></table></figure>

<p><img src="/img/laze.gif" data-original="/img/MySQL/20240701230423747.png" alt="20240701230423747"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">add date date null comment &#x27;入职日期&#x27;;</span><br><span class="line">--修改所有id为1的日期为2008-01-01</span><br><span class="line">update a set date=&#x27;2008-01-01&#x27; where id=1;</span><br></pre></td></tr></table></figure>

<h4 id="删除-1"><a href="#删除-1" class="headerlink" title="删除"></a>删除</h4><p><img src="/img/laze.gif" data-original="/img/MySQL/20240701231636847.png" alt="20240701231636847"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">delete from [表名] [where 条件]</span><br><span class="line">delete from a where id=&#x27;1&#x27;</span><br><span class="line">--删除所有员工</span><br><span class="line">delete from a;</span><br></pre></td></tr></table></figure>

<p><img src="/img/laze.gif" data-original="/img/MySQL/20240701231322436.png" alt="20240701231322436"></p>
<h3 id="DQL-用来查询数据库中表的记录"><a href="#DQL-用来查询数据库中表的记录" class="headerlink" title="&#x3D;&#x3D;DQL(用来查询数据库中表的记录)&#x3D;&#x3D;"></a>&#x3D;&#x3D;DQL(用来查询数据库中表的记录)&#x3D;&#x3D;</h3><h4 id="基础准备"><a href="#基础准备" class="headerlink" title="基础准备"></a>基础准备</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--(1)建表</span><br><span class="line">create table emp(</span><br><span class="line">	id int comment &#x27;编号&#x27;,</span><br><span class="line">	workno varchar(10) comment &#x27;工号&#x27;,</span><br><span class="line">	name varchar(10) comment &#x27;姓名&#x27;,</span><br><span class="line">	gender char(1) comment &#x27;性别&#x27;,</span><br><span class="line">	age tinyint unsigned comment &#x27;年龄&#x27;,</span><br><span class="line">	idcard varchar(18) comment &#x27;身份证号&#x27;,</span><br><span class="line">	workaddress varchar(50) comment &#x27;工作地址&#x27;,</span><br><span class="line">	entrydate date comment &#x27;入职时间&#x27;</span><br><span class="line">) comment &#x27;员工表&#x27;;</span><br><span class="line">--(2)插入数据</span><br><span class="line">insert into emp (id,workno,name,gender,age,idcard,workaddress,entrydate) value </span><br><span class="line">(1,&#x27;1&#x27;,&#x27;柳岩&#x27;,&#x27;女&#x27;,20,&#x27;432121451523127854&#x27;,&#x27;北京&#x27;,&#x27;2000-01-01&#x27;),</span><br><span class="line">(2,&#x27;2&#x27;,&#x27;张无忌&#x27;,&#x27;男&#x27;,28,&#x27;432121451523127856&#x27;,&#x27;北京&#x27;,&#x27;2010-01-01&#x27;),</span><br><span class="line">(3,&#x27;3&#x27;,&#x27;韦一笑&#x27;,&#x27;男&#x27;,38,&#x27;432121451523127854&#x27;,&#x27;上海&#x27;,&#x27;2009-01-01&#x27;),</span><br><span class="line">(4,&#x27;4&#x27;,&#x27;赵敏&#x27;,&#x27;女&#x27;,18,&#x27;232121451523127854&#x27;,&#x27;北京&#x27;,&#x27;2008-01-01&#x27;),</span><br><span class="line">(5,&#x27;5&#x27;,&#x27;小招&#x27;,&#x27;女&#x27;,23,&#x27;433121451523127854&#x27;,&#x27;上海&#x27;,&#x27;2000-12-01&#x27;),</span><br><span class="line">(6,&#x27;6&#x27;,&#x27;杨上校&#x27;,&#x27;男&#x27;,88,&#x27;432121451523127554&#x27;,&#x27;北京&#x27;,&#x27;1998-01-20&#x27;),</span><br><span class="line">(7,&#x27;7&#x27;,&#x27;哈哈&#x27;,&#x27;女&#x27;,18,&#x27;432121455523127854&#x27;,&#x27;长沙&#x27;,&#x27;1988-01-01&#x27;),</span><br><span class="line">(8,&#x27;8&#x27;,&#x27;柳如烟&#x27;,&#x27;女&#x27;,88,&#x27;432121477773127854&#x27;,&#x27;西安&#x27;,&#x27;1978-01-01&#x27;),</span><br><span class="line">(9,&#x27;9&#x27;,&#x27;大壮&#x27;,&#x27;男&#x27;,29,&#x27;432121451529927854&#x27;,&#x27;江苏&#x27;,&#x27;2012-01-01&#x27;),</span><br><span class="line">(10,&#x27;10&#x27;,&#x27;刘马&#x27;,&#x27;男&#x27;,66,&#x27;433333451523127854&#x27;,&#x27;永州&#x27;,&#x27;2009-08-01&#x27;),</span><br><span class="line">(11,&#x27;11&#x27;,&#x27;新来的&#x27;,&#x27;女&#x27;,29,&#x27;702121451523127854&#x27;,&#x27;郴州&#x27;,&#x27;2024-07-02&#x27;);</span><br></pre></td></tr></table></figure>

<h4 id="基本查询"><a href="#基本查询" class="headerlink" title="基本查询"></a>基本查询</h4><p><img src="/img/laze.gif" data-original="/img/MySQL/20240702174225035.png" alt="20240702174225035"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--1、查询指定字段 name,workno,age 返回</span><br><span class="line">select name,workno,age from emp;</span><br><span class="line">--2、查询所有字段返回</span><br><span class="line">select * from emp;</span><br><span class="line">--3、查询所有员工的工作地址，起别名</span><br><span class="line">select workaddress as &#x27;工作地址&#x27; from emp;</span><br><span class="line">select workaddress &#x27;工作地址&#x27; from emp;</span><br><span class="line">--4、查询公司员工的上班地址(不要重复)</span><br><span class="line">select distinct workaddress &#x27;工作地址&#x27; from emp;</span><br></pre></td></tr></table></figure>

<h4 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h4><p><img src="/img/laze.gif" data-original="/img/MySQL/20240702175027374.png" alt="20240702175027374"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--1、查询年龄小于等于88的员工信息</span><br><span class="line">select * from emp where age &lt;= 88;</span><br><span class="line">--2、查询没有身份证号的员工信息</span><br><span class="line">select * from emp where idcast is null;</span><br></pre></td></tr></table></figure>

<h4 id="聚合函数"><a href="#聚合函数" class="headerlink" title="聚合函数"></a>聚合函数</h4><p><strong>null值不参与聚合函数运算</strong></p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240702170342199.png" alt="20240702170342199"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--1、求员工数量</span><br><span class="line">select count(*) from emp;</span><br><span class="line">--2、统计该员工的平均年龄</span><br><span class="line">select avg(age) from emp;</span><br><span class="line">--3、统计该企业员工的最大年龄</span><br><span class="line">select max(age) from emp;</span><br><span class="line">--4、统计该企业员工的最小年龄</span><br><span class="line">select min(age) from emp;</span><br><span class="line">--5、统计西安地区员工的年龄之和</span><br><span class="line">select sum(age) from emp where workaddress=&#x27;西安&#x27;;</span><br></pre></td></tr></table></figure>

<h4 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h4><p><img src="/img/laze.gif" data-original="/img/MySQL/20240702172134637.png" alt="20240702172134637"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--1、统计男性员工和女性员工的数量</span><br><span class="line">select gender,count(*) from emp group by gender;</span><br><span class="line">--2、根据性别分组，统计男性员工和女性员工的平均年龄</span><br><span class="line">select gender,avg(age) from emp group by gender;</span><br><span class="line">--3、查询年龄小于45的员工，并根据工作地址区分员工数量大于等于3的工作地址</span><br><span class="line">select workaddress,count(*) from emp where age &lt; 45 group by workaddress having count(*) &gt;= 3;</span><br></pre></td></tr></table></figure>

<h4 id="排序查询"><a href="#排序查询" class="headerlink" title="排序查询"></a>排序查询</h4><p><img src="/img/laze.gif" data-original="/img/MySQL/20240702173020947.png" alt="20240702173020947"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--1、根据年龄对公司的员工进行升序、降序排序</span><br><span class="line">select * from emp order by age asc;</span><br><span class="line">select * from emp order by age desc;</span><br><span class="line">--2、根据入职时间，对员工进行降序排序</span><br><span class="line">select * from emp order by entrydate desc;</span><br><span class="line">--3、根据年龄对公司员工先进行升序排序，年龄相同，再按照入职时间进行降序排序</span><br><span class="line">select * from emp order by age asc,entrydate desc;</span><br><span class="line">#若省略asc，则默认升序</span><br></pre></td></tr></table></figure>

<h4 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h4><p><img src="/img/laze.gif" data-original="/img/MySQL/20240702173256808.png" alt="20240702173256808"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--1、查询第1页员工数据，每页展示10条记录</span><br><span class="line">select * from emp limit 0,10;</span><br><span class="line">--2、查询第2页员工数据，每页展示10条记录</span><br><span class="line">select * from emp limit 10,10;</span><br></pre></td></tr></table></figure>

<h4 id="执行顺序"><a href="#执行顺序" class="headerlink" title="执行顺序"></a>执行顺序</h4><p><img src="/img/laze.gif" data-original="/img/MySQL/20240702200546666.png" alt="20240702200546666"></p>
<h3 id="DCL-用来管理数据库用户"><a href="#DCL-用来管理数据库用户" class="headerlink" title="DCL(用来管理数据库用户)"></a>DCL(用来管理数据库用户)</h3><p><img src="/img/laze.gif" data-original="/img/MySQL/20240702211004356.png" alt="20240702211004356"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--1、创建用户 itcast，只能够在当前主机上访问，密码为123456</span><br><span class="line">create user &#x27;itcast&#x27;@&#x27;localhost&#x27; identified by &#x27;123456&#x27;;</span><br><span class="line">--2、创建用户 heima，可以在任意主机上访问该数据库，密码为123456</span><br><span class="line">create user &#x27;heima&#x27;@&#x27;%&#x27; identified by &#x27;123456&#x27;;</span><br><span class="line">--3、修改heima密码</span><br><span class="line">alter user &#x27;heima&#x27;@&#x27;%&#x27; identified with mysql_native_password by &#x27;12345&#x27;;</span><br><span class="line">--4、删除heima用户</span><br><span class="line">drop user &#x27;heima&#x27;@&#x27;%&#x27;;</span><br></pre></td></tr></table></figure>

<p><img src="/img/laze.gif" data-original="/img/MySQL/20240703002617489.png" alt="20240703002617489"></p>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="字符串函数"><a href="#字符串函数" class="headerlink" title="字符串函数"></a>字符串函数</h3><p><img src="/img/laze.gif" data-original="/img/MySQL/20240705133920948.png" alt="20240705133920948"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#concat</span><br><span class="line">select concat(&#x27;Hello&#x27;,&#x27; MySQL&#x27;);</span><br><span class="line">#substring</span><br><span class="line">select substring(&#x27;Hello MySQL&#x27;,1,5);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--1、工号统一为5位数，不足5位的补0</span><br><span class="line">update emp set workno=lpad(wrokno,5,&#x27;0&#x27;);</span><br></pre></td></tr></table></figure>

<h3 id="数值函数"><a href="#数值函数" class="headerlink" title="数值函数"></a>数值函数</h3><p><img src="/img/laze.gif" data-original="/img/MySQL/20240705141559294.png" alt="20240705141559294"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--1、通过数据库的函数，生成一个6位数的随机数验证码</span><br><span class="line">select lpad(round(rand()*1000000,0),6,&#x27;0&#x27;)</span><br></pre></td></tr></table></figure>

<h3 id="日期函数"><a href="#日期函数" class="headerlink" title="日期函数"></a>日期函数</h3><p><img src="/img/laze.gif" data-original="/img/MySQL/20240705142443112.png" alt="20240705142443112"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select date_add(now(),interval 70 mouth);</span><br><span class="line">select datediff(&#x27;2021-12-01&#x27;,&#x27;2021-10-12&#x27;);</span><br><span class="line">--1、查询所有员工的入职天数，并根据入职天数倒序排序</span><br><span class="line">select name,datediff(curdate(),entrydate) as &#x27;entrydays&#x27; from emp order by entrydays desc;</span><br></pre></td></tr></table></figure>

<h3 id="流程函数"><a href="#流程函数" class="headerlink" title="流程函数"></a>流程函数</h3><p>实现条件筛选，提高语句的效率</p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240705145820737.png" alt="20240705145820737"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--1、if</span><br><span class="line">select if(false,&#x27;OK&#x27;,&#x27;error&#x27;);</span><br><span class="line">--2、ifnull</span><br><span class="line">select ifnull(&#x27;OK&#x27;,&#x27;Default&#x27;);</span><br><span class="line">#OK</span><br><span class="line">select ifnull(null,&#x27;Default&#x27;);</span><br><span class="line">#Default</span><br><span class="line">--3、查询emp表的员工姓名和工作地址（北京/上海--&gt;一线城市，其他--&gt;二线城市</span><br><span class="line">select name,</span><br><span class="line">	(case workaddress</span><br><span class="line">    when &#x27;北京&#x27; then &#x27;一线城市&#x27; </span><br><span class="line">    when &#x27;上海&#x27; then &#x27;一线城市&#x27; </span><br><span class="line">	else &#x27;二线城市&#x27; end) as &#x27;工作地址&#x27;,workaddress</span><br><span class="line">	from emp;</span><br></pre></td></tr></table></figure>

<p><img src="/img/laze.gif" data-original="/img/MySQL/20240705150701657.png" alt="20240705150701657"></p>
<p>例2</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--统计班级各个学员的成绩，展示的规则如下：</span><br><span class="line">--  &gt;=85, 优秀</span><br><span class="line">--  &gt;=60, 及格</span><br><span class="line">--  否则, 不及格</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#建表</span><br><span class="line">create table score(</span><br><span class="line">	id int comment &#x27;ID&#x27;,</span><br><span class="line">	name varchar(20) comment &#x27;姓名&#x27;,</span><br><span class="line">	math int comment &#x27;数学&#x27;,</span><br><span class="line">	english int comment &#x27;英语&#x27;,</span><br><span class="line">	chinese int comment &#x27;语文&#x27;</span><br><span class="line">)comment &#x27;学院成绩表&#x27;;</span><br><span class="line">#数据准备</span><br><span class="line">insert into score(id,name,math,english,chinese) values (1,&#x27;Tom&#x27;,67,88,95),(2,&#x27;Rose&#x27;,23,66,90),(3,&#x27;Jack&#x27;,56,98,76);</span><br></pre></td></tr></table></figure>

<p>开始查询</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select id,name,</span><br><span class="line">	(case when math&gt;=85 then &#x27;优秀&#x27; when 60&lt;=math&lt;=85 then &#x27;及格&#x27; when math&lt;=60 then &#x27;不及格&#x27; end) &#x27;数学&#x27;,</span><br><span class="line">    (case when english&gt;=85 then &#x27;优秀&#x27; when 60&lt;=english&lt;=85 then &#x27;及格&#x27; when english&lt;=60 then &#x27;不及格&#x27; end) &#x27;英语&#x27;,</span><br><span class="line">    (case when chinese&gt;=85 then &#x27;优秀&#x27; when 60&lt;=chinese&lt;=85 then &#x27;及格&#x27; when chinese&lt;=60 then &#x27;不及格&#x27; end) &#x27;语文&#x27;</span><br><span class="line">      from score;</span><br></pre></td></tr></table></figure>

<h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p><img src="/img/laze.gif" data-original="/img/MySQL/20240705152752503.png" alt="20240705152752503"></p>
<h2 id="约束"><a href="#约束" class="headerlink" title="约束"></a>约束</h2><p><strong>用于限制存储在表中的数据，保证数据库中数据的正确、有效性和完整性</strong></p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240705154420361.png" alt="20240705154420361"></p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240705160039343.png" alt="20240705160039343"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#主键</span><br><span class="line">create table user(</span><br><span class="line">	id int primary key auto_increment comment &#x27;主键&#x27;,</span><br><span class="line">	name varchar(10) not null unique comment &#x27;姓名&#x27;,</span><br><span class="line">	age int check ( age &gt;0 &amp;&amp; age &lt;= 120) comment &#x27;年龄&#x27;,</span><br><span class="line">	status char(1) default &#x27;1&#x27; comment &#x27;状态&#x27;,</span><br><span class="line">	gender char(1) comment &#x27;性别&#x27;	</span><br><span class="line">)comment &#x27;用户表&#x27;;</span><br><span class="line">insert into user(name,age,status,gender) values (&#x27;Tom1&#x27;,19,&#x27;1&#x27;,&#x27;男&#x27;),(&#x27;Tom2&#x27;25,&#x27;0&#x27;,&#x27;男&#x27;);</span><br><span class="line">#auto_increment 后续插入主键支持自增</span><br><span class="line">insert into user(name,age,status,gender) values (&#x27;Tom3&#x27;,25,&#x27;0&#x27;,&#x27;男&#x27;);</span><br><span class="line">#若插入失败，也会占用编号，因为它已经向数据库发送申请</span><br></pre></td></tr></table></figure>

<h3 id="外键"><a href="#外键" class="headerlink" title="外键"></a>外键</h3><p>用来让两张表的数据之间建立连接，从而保证数据的一致性和完整性。</p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240706132923673.png" alt="20240706132923673"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">alter table emp add constraint fk_emp_dept_id foreign key (dept_id) references dept(id);</span><br><span class="line">#此时不能删除父表，因为子表还在</span><br><span class="line">#删除外键</span><br><span class="line">alter table emp drop foreign key fk_emp_dept_id;</span><br></pre></td></tr></table></figure>

<h4 id="外键删除更新行为"><a href="#外键删除更新行为" class="headerlink" title="外键删除更新行为"></a>外键删除更新行为</h4><p><img src="/img/laze.gif" data-original="/img/MySQL/20240706134845493.png" alt="20240706134845493"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#cascade</span><br><span class="line">alter table emp add constraint fk_emp_dept_id foreign key (dept_id) references dept(id) on update cascade on delete cascade;</span><br></pre></td></tr></table></figure>

<h2 id="多表查询"><a href="#多表查询" class="headerlink" title="多表查询"></a>多表查询</h2><h3 id="多表关系"><a href="#多表关系" class="headerlink" title="多表关系"></a>多表关系</h3><p><img src="/img/laze.gif" data-original="/img/MySQL/20240706135747693.png" alt="20240706135747693"></p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240706135925693.png" alt="20240706135925693"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#学生表</span><br><span class="line">create table student(</span><br><span class="line">	id int auto_increment primary key comment &#x27;主键ID&#x27;,</span><br><span class="line">	name varchar(10) comment &#x27;姓名&#x27;,</span><br><span class="line">	no varchar(10) comment &#x27;学号&#x27;</span><br><span class="line">)comment &#x27;学生表&#x27;;</span><br><span class="line"></span><br><span class="line">insert into student values (null,&#x27;我靠&#x27;,&#x27;05020231&#x27;),(null,&#x27;holy&#x27;,&#x27;05020232&#x27;),(null,&#x27;shit&#x27;,&#x27;05020233&#x27;),(null,&#x27;bro&#x27;,&#x27;05020234&#x27;),(null,&#x27;m3&#x27;,&#x27;05020235&#x27;);</span><br><span class="line">#课程表</span><br><span class="line">create table course(</span><br><span class="line">	id int auto_increment primary key comment &#x27;主键ID&#x27;,</span><br><span class="line">	name varchar(10) comment &#x27;课程名称&#x27;</span><br><span class="line">) comment &#x27;课程表&#x27;;</span><br><span class="line"></span><br><span class="line">insert into course values (null,&#x27;Java&#x27;),(null,&#x27;PHP&#x27;),(null,&#x27;MySQL&#x27;),(null,&#x27;Python&#x27;);</span><br><span class="line">#学生课程中间表</span><br><span class="line">create table student_course(</span><br><span class="line">	id int auto_increment primary key comment &#x27;主键&#x27;,</span><br><span class="line">	studentid int not null comment &#x27;学生ID&#x27;,</span><br><span class="line">	courseid int not null comment &#x27;课程ID&#x27;,</span><br><span class="line">	constraint fk_courseid foreign key (courseid) references course (id),</span><br><span class="line">	constraint fk_studentid foreign key (studentid) references student (id)</span><br><span class="line">)comment &#x27;学生课程中间表&#x27;;</span><br><span class="line"></span><br><span class="line">insert into student_course values(null,1,1),(null,1,2),(null,1,3),(null,2,2),(null,3,4);</span><br></pre></td></tr></table></figure>

<p><img src="/img/laze.gif" data-original="/img/MySQL/20240706141703813.png" alt="20240706141703813"></p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240706141716234.png" alt="20240706141716234"></p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240706141728458.png" alt="20240706141728458"></p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240706141851668.png" alt="20240706141851668"></p>
<h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p><strong>消除无效笛卡尔积</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">select * from emp, dept where emp.dept_id=dept.id;</span><br></pre></td></tr></table></figure>

<p><img src="/img/laze.gif" data-original="/img/MySQL/20240708181229542.png" alt="20240708181229542"></p>
<h4 id="内连接"><a href="#内连接" class="headerlink" title="内连接"></a>内连接</h4><p><img src="/img/laze.gif" data-original="/img/MySQL/20240708181900776.png" alt="20240708181900776"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--1、查询每一个员工的姓名，及关联部门的名称(隐式内连接)</span><br><span class="line">select emp.name, dept.name from emp,dept where emp.dept_id=dept.id;</span><br><span class="line">--2、查询每一个员工的姓名，及关联的部门的名称(显式内连接)</span><br><span class="line">select emp.name,dept.name from emp inner join dept on emp.dept_id=dept.id;</span><br></pre></td></tr></table></figure>

<h4 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h4><p><img src="/img/laze.gif" data-original="/img/MySQL/20240708214515491.png" alt="20240708214515491"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--1、查询emp表的所有数据，和对应的部门信息(左外连接)</span><br><span class="line">select emp.*,dept.* from emp left outer join dept on emp.dept_id=dept.id;</span><br><span class="line">--2、查询emp表的所有数据，和对应的部门信息(右外连接)</span><br><span class="line">select emp.*,dept.* from emp right outer join dept on emp.dept_id=dept.id;</span><br></pre></td></tr></table></figure>

<h4 id="自连接"><a href="#自连接" class="headerlink" title="自连接"></a>自连接</h4><p><img src="/img/laze.gif" data-original="/img/MySQL/20240708215323708.png" alt="20240708215323708"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--1、查询员工及其所属领导的名字</span><br><span class="line">select a.name , b.name from emp a ,emp b where a.managerid=b.managerid;</span><br><span class="line">--2、查询所有员工emp及其领导的名字emp，如果员工没有领导，也需要查询出来</span><br><span class="line">select a.name &#x27;员工&#x27; ,b.name &#x27;领导&#x27; from emp a left join emp b on a.managerid =b.id</span><br></pre></td></tr></table></figure>

<h4 id="联合查询"><a href="#联合查询" class="headerlink" title="联合查询"></a>联合查询</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--1、查询薪资低于5000，年龄大于50的员工</span><br><span class="line">select * from emp where salary &lt; 5000</span><br><span class="line">union all</span><br><span class="line">select * from emp where age &gt; 50</span><br><span class="line">#去掉all，all即为直接合并</span><br><span class="line">select * from emp where salary &lt; 5000</span><br><span class="line">union</span><br><span class="line">select * from emp where age &gt; 50</span><br></pre></td></tr></table></figure>

<h4 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h4><p><img src="/img/laze.gif" data-original="/img/MySQL/20240708222829077.png" alt="20240708222829077"></p>
<h5 id="标量子查询"><a href="#标量子查询" class="headerlink" title="标量子查询"></a>标量子查询</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--1、查询&quot;销售部&quot;部门的所有员工信息</span><br><span class="line">--a、查询&quot;销售部&quot;部门ID</span><br><span class="line">select id from dept where name=&#x27;销售部&#x27;;</span><br><span class="line">--b、根据销售部部门ID，查询员工信息</span><br><span class="line">seslect * from emp where dept_id=(select id from dept where name=&#x27;销售部&#x27;);</span><br><span class="line">--2、查询在&quot;柳岩&quot;入职后的员工信息</span><br><span class="line">--a、查询 柳岩 的入职信息</span><br><span class="line">select entrydate from emp where name=&#x27;柳岩&#x27;;</span><br><span class="line">--b、查询指定入职信息之后入职的员工信息</span><br><span class="line">select * from emp where entrydate&gt;(select entrydate from emp where name=&#x27;柳岩&#x27;);</span><br></pre></td></tr></table></figure>

<h5 id="列子查询"><a href="#列子查询" class="headerlink" title="列子查询"></a>列子查询</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--1、查询&quot;销售部&quot;和&quot;市场部&quot;的所有员工信息</span><br><span class="line">select * from emp where dept_id in (select id from dept where name=&#x27;销售部&#x27; or name=&#x27;市场部&#x27;);</span><br><span class="line">--2、查询比 研发部 所有人年龄都小的员工信息</span><br><span class="line">select id from dept where name=&#x27;研发部&#x27;;</span><br><span class="line">1;</span><br><span class="line">select * from emp where age &lt; all(select age from emp where dept_id=(select id from dept where name=&#x27;研发部&#x27;));</span><br><span class="line">--3、查询比 研发部 其中任意一人年龄小的员工信息</span><br><span class="line">select * from emp where age &lt; any (select age from emp where dept_id=(select id from dept where name=&#x27;研发部&#x27;));</span><br></pre></td></tr></table></figure>

<h5 id="行子查询"><a href="#行子查询" class="headerlink" title="行子查询"></a>行子查询</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--1、查询与&quot;张无忌&quot;的薪资及其直属领导相同的员工信息</span><br><span class="line">select * from emp where (salary,managerid) = (select salary,managerid from emp where name=&#x27;张无忌&#x27;);</span><br></pre></td></tr></table></figure>

<h5 id="表子查询"><a href="#表子查询" class="headerlink" title="表子查询"></a>表子查询</h5><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--1、查询与&quot;新来的&quot;,&quot;刘马&quot;的职位和薪资相同的员工信息</span><br><span class="line">select * from emp where (job,salary) in (select job,salary from emp where name= &quot;新来的&quot; or name=&quot;刘马&quot;);</span><br><span class="line">--2、查询入职日期是&#x27;2006-01-21&#x27;之后的员工信息，及其部门信息</span><br><span class="line">select e.*,d.* from (select * from emp where entrydate &gt; &#x27;2006-01-21&#x27;) e left join dept d on e.dept_id=d.id;</span><br></pre></td></tr></table></figure>

<h3 id="案例"><a href="#案例" class="headerlink" title="&#x3D;&#x3D;案例&#x3D;&#x3D;"></a>&#x3D;&#x3D;案例&#x3D;&#x3D;</h3><p><strong>员工信息关系图</strong></p>
<p>这里注意部门表的id也设置为主键</p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240711151223733.png" alt="20240711151223733"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#部门表</span><br><span class="line">create table dept(</span><br><span class="line">    id   int primary key comment &#x27;部门号&#x27;,</span><br><span class="line">    name varchar(10)  comment &#x27;部门名称&#x27;</span><br><span class="line">)comment &#x27;部门表&#x27;;</span><br><span class="line"></span><br><span class="line">#工资等级表</span><br><span class="line">create table salgrade(</span><br><span class="line">	grade int primary key comment &#x27;工资等级&#x27;,</span><br><span class="line">	losal int comment &#x27;最低工资&#x27;,</span><br><span class="line">	hisal int comment &#x27;最低工资&#x27;</span><br><span class="line">)comment &#x27;薪资等级表&#x27;;</span><br><span class="line"></span><br><span class="line">#员工表</span><br><span class="line">create table emp(</span><br><span class="line">    id         int auto_increment comment &#x27;编号&#x27; primary key,</span><br><span class="line">    workno      varchar(10)       comment &#x27;工号&#x27;,</span><br><span class="line">    name        varchar(10)       comment &#x27;姓名&#x27;,</span><br><span class="line">    gender      char              comment &#x27;性别&#x27;,</span><br><span class="line">    age         tinyint unsigned  comment &#x27;年龄&#x27;,</span><br><span class="line">    idcard      varchar(18)       comment &#x27;身份证号&#x27;,</span><br><span class="line">    workaddress varchar(50)       comment &#x27;工作地址&#x27;,</span><br><span class="line">    entrydate   date              comment &#x27;入职时间&#x27;,</span><br><span class="line">    job         varchar(10)       comment &#x27;工作&#x27;,</span><br><span class="line">    salary      int               comment &#x27;工资&#x27;,</span><br><span class="line">    leaderid	int	              comment &#x27;所属领导&#x27;,</span><br><span class="line">    salgrade_grade int            comment &#x27;工资等级&#x27;,</span><br><span class="line">    dept_id     int               comment &#x27;部门号&#x27;,</span><br><span class="line">    constraint fk_emp_dept_id</span><br><span class="line">        foreign key (dept_id) references dept (id),</span><br><span class="line">    constraint fk_emp_salgrade_grade</span><br><span class="line">        foreign key (salgrade_grade) references salgrade (grade)</span><br><span class="line">)</span><br><span class="line">    comment &#x27;员工表&#x27;;</span><br></pre></td></tr></table></figure>

<p>插入数据</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#工资等级表</span><br><span class="line">insert into salgrade values(1,0,3000),(2,3001,5000),(3,5001,8000),(4,8001,10000),(5,10001,15000),(6,15001,20000),(7,20001,25000),(8,25001,30000);</span><br><span class="line"></span><br><span class="line">#部门表</span><br><span class="line">insert into dept values</span><br><span class="line">(1,&#x27;研发部&#x27;),(2,&#x27;市场部&#x27;),(3,&#x27;财务部&#x27;),(4,&#x27;销售部&#x27;),(5,&#x27;总经办&#x27;),(6,&#x27;人事部&#x27;);</span><br><span class="line"></span><br><span class="line">#员工表</span><br><span class="line">insert into emp</span><br><span class="line">(id, workno, name, gender, age, idcard, workaddress, entrydate, job, salary, leaderid, salgrade_grade, dept_id)</span><br><span class="line">values</span><br><span class="line">(1,&#x27;1&#x27;,&#x27;柳岩&#x27;,&#x27;女&#x27;,20,&#x27;432121451523127854&#x27;,&#x27;北京&#x27;,&#x27;2004-01-01&#x27;,&#x27;交际花&#x27;,26666,9,6,5),</span><br><span class="line">(2,&#x27;2&#x27;,&#x27;张无忌&#x27;,&#x27;男&#x27;,24,&#x27;432121451523127856&#x27;,&#x27;北京&#x27;,&#x27;2000-01-01&#x27;,&#x27;算法程序员&#x27;,18500,9,6,1),</span><br><span class="line">(3,&#x27;3&#x27;,&#x27;韦一笑&#x27;,&#x27;男&#x27;,25,&#x27;432121451523127854&#x27;,&#x27;上海&#x27;,&#x27;1999-01-01&#x27;,&#x27;python程序员&#x27;,14500,2,5,1),</span><br><span class="line">(4,&#x27;4&#x27;,&#x27;赵敏&#x27;,&#x27;女&#x27;,38,&#x27;232121451523127854&#x27;,&#x27;武汉&#x27;,&#x27;1986-01-01&#x27;,&#x27;运维&#x27;,12500,2,5,1),</span><br><span class="line">(5,&#x27;5&#x27;,&#x27;小招&#x27;,&#x27;女&#x27;,24,&#x27;433121451523127854&#x27;,&#x27;上海&#x27;,&#x27;2000-12-01&#x27;,&#x27;数据库工程师&#x27;,17000,2,6,1),</span><br><span class="line">(6,&#x27;6&#x27;,&#x27;杨上校&#x27;,&#x27;男&#x27;,88,&#x27;432121451523127554&#x27;,&#x27;北京&#x27;,&#x27;1998-01-20&#x27;,&#x27;司机&#x27;,6500,9,3,5),</span><br><span class="line">(7,&#x27;7&#x27;,&#x27;哈哈&#x27;,&#x27;女&#x27;,18,&#x27;432121455523127854&#x27;,&#x27;长沙&#x27;,&#x27;1988-01-01&#x27;,&#x27;采购员&#x27;,9000,9,4,2),</span><br><span class="line">(8,&#x27;8&#x27;,&#x27;柳如烟&#x27;,&#x27;女&#x27;,88,&#x27;432121477773127854&#x27;,&#x27;西安&#x27;,&#x27;1978-01-01&#x27;,&#x27;程序员鼓励师&#x27;,23000,1,7,5),</span><br><span class="line">(9,&#x27;9&#x27;,&#x27;腰子哥&#x27;,&#x27;男&#x27;,54,&#x27;432121451529927854&#x27;,&#x27;江苏&#x27;,&#x27;1970-01-01&#x27;,&#x27;老总&#x27;,null,null,null,5),</span><br><span class="line">(10,&#x27;10&#x27;,&#x27;刘马&#x27;,&#x27;男&#x27;,66,&#x27;433333451523127854&#x27;,&#x27;永州&#x27;,&#x27;2009-08-01&#x27;,&#x27;销售&#x27;,8500,9,4,4),</span><br><span class="line">(11,&#x27;11&#x27;,&#x27;新来的&#x27;,&#x27;女&#x27;,29,&#x27;702121451523127854&#x27;,&#x27;郴州&#x27;,&#x27;2024-07-02&#x27;,null,null,null,null,null),</span><br><span class="line">(12,&#x27;12&#x27;,&#x27;吗嘛哈&#x27;,&#x27;男&#x27;,36,&#x27;553333451523127854&#x27;,&#x27;怀化&#x27;,&#x27;1988-08-01&#x27;,&#x27;人事&#x27;,13500,9,5,6);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/img/laze.gif" data-original="/img/MySQL/20240711154352997.png" alt="20240711154352997"></p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240711154502800.png" alt="20240711154502800"></p>
<p><img src="/img/laze.gif" data-original="/img/MySQL/20240711154533951.png" alt="20240711154533951"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">--1、查询员工的姓名、年龄、职位、部门信息(隐式内连接)</span><br><span class="line">select emp.name,emp.age,emp.job,emp.dept_id from emp,dept where emp.dept_id=dept.id;</span><br><span class="line"></span><br><span class="line">--2、查询年龄小于30岁的员工的姓名、年龄、职位、部门信息(显式内连接)</span><br><span class="line">select emp.name,emp.age,emp.job,emp.dept_id from emp inner join dept on emp.dept_id=dept.id  where emp.age &lt; 30;</span><br><span class="line"></span><br><span class="line">--3、查询所有员工的部门ID、部门名称</span><br><span class="line">select distinct e.id,d.name from emp e ,dept d where e.dept_id=d.id;</span><br><span class="line">#左外连接</span><br><span class="line">select emp.name,emp.dept_id,dept.name from emp left outer join dept on emp.dept_id=dept.id;</span><br><span class="line"></span><br><span class="line">--4、查询所有年龄大于35岁的员工，及其归属的部门名称；若没有分配部门，也要显示出来</span><br><span class="line">#左外连接</span><br><span class="line">select emp.name,dept.name from emp left outer join dept on emp.dept_id=dept.id where emp.age &lt; 35;</span><br><span class="line"></span><br><span class="line">--5、查询所有员工的工资等级</span><br><span class="line">select emp.name,emp.salgrade_grade from emp;</span><br><span class="line"></span><br><span class="line">--6、查询 研发部 所有员工的信息及工资等级</span><br><span class="line">select distinct emp.name,emp.salary,emp.salgrade_grade from emp right outer join salgrade on salgrade.losal&lt;emp.salary&lt;salgrade.hisal where emp.dept_id=1;</span><br><span class="line"></span><br><span class="line">--7、查询 研发部 员工的平均工资</span><br><span class="line">select avg(emp.salary) from emp where emp.dept_id=1;</span><br><span class="line"></span><br><span class="line">--8、查询工资比 小招 高的员工信息</span><br><span class="line">select emp.* from emp where salary &gt; (select emp.salary from emp where emp.name=&#x27;小招&#x27;);</span><br><span class="line"></span><br><span class="line">--9、查询比平均薪资高的员工信息</span><br><span class="line">select emp.* from emp where salary &gt; (select avg(emp.salary) from emp);</span><br><span class="line"></span><br><span class="line">--10、查询低于本部门工资的员工信息</span><br><span class="line">select * from emp e2 where e2.salary &lt; (select avg(e1.salary) from emp e1 where e1.dept_id = e2.dept_id);</span><br><span class="line">#检验</span><br><span class="line">select *,(select avg(e1.salary) from emp e1 where e1.dept_id = e2.dept_id) &#x27;平均薪资&#x27; from emp e2 where e2.salary &lt; (select avg(e1.salary) from emp e1 where e1.dept_id = e2.dept_id);</span><br><span class="line"></span><br><span class="line">--11、查询所有的部门信息，并统计部门的员工人数</span><br><span class="line">#子查询</span><br><span class="line">select d.id, d.name ,(select count(*) from emp e where e.dept_id=d.id) &#x27;人数&#x27; from dept d;</span><br><span class="line"></span><br><span class="line">*--12、查询之前学生成绩表中所有学生的选课情况，展示出学生姓名，学号，课程名称</span><br><span class="line">#student.id=studenidt_course.studentid,course.id=stuent_course.courseid</span><br><span class="line">select s.name , c.name from student s,stuent_course sc ,course c where s.id=sc.studentid and c.id=sc.courseid;</span><br></pre></td></tr></table></figure>

<h2 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h2><p><img src="/img/laze.gif" data-original="/img/MySQL/20240709144205065.png" alt="20240709144205065"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">create table account(</span><br><span class="line">	id int auto_increment primary key comment &#x27;主键ID&#x27;,</span><br><span class="line">	name varchar(10) comment &#x27;姓名&#x27;,</span><br><span class="line">	money int comment &#x27;余额&#x27;</span><br><span class="line">)comment &#x27;账号表&#x27;;</span><br><span class="line">insert into account(id,name,money) values(null,&#x27;张三&#x27;,2000),(null,&#x27;李四&#x27;,2000),(null,&#x27;王五&#x27;,8000);</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#张三给李四转账1000</span><br><span class="line">--李四</span><br><span class="line">update account set money = money+1000 where name=&#x27;李四&#x27;;</span><br><span class="line">--张三</span><br><span class="line">update account set money = money-1000 where name=&#x27;张三&#x27;;</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">set @@autocommit=0;    --设置为手动提交，运行事务操作之后得再执行事务提交</span><br><span class="line">--提交事务</span><br><span class="line">commit;</span><br><span class="line">--一旦执行错误，需要执行回滚操作</span><br><span class="line">rollback;</span><br></pre></td></tr></table></figure>

<h3 id="事务操作"><a href="#事务操作" class="headerlink" title="事务操作"></a>事务操作</h3><p><img src="/img/laze.gif" data-original="/img/MySQL/20240709145733165.png" alt="20240709145733165"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">start transaction/或begin;</span><br><span class="line">#张三给李四转账1000</span><br><span class="line">--李四</span><br><span class="line">update account set money = money+1000 where name=&#x27;李四&#x27;;</span><br><span class="line">程序出现异常...</span><br><span class="line">--张三</span><br><span class="line">update account set money = money-1000 where name=&#x27;张三&#x27;;</span><br><span class="line">--出现错误仍需回滚</span><br><span class="line">rollback;</span><br></pre></td></tr></table></figure>

<h3 id="事务四大特性"><a href="#事务四大特性" class="headerlink" title="事务四大特性"></a>事务四大特性</h3><p><img src="/img/laze.gif" data-original="/img/MySQL/20240709150413356.png" alt="20240709150413356"></p>
<h3 id="并发事务问题"><a href="#并发事务问题" class="headerlink" title="并发事务问题"></a>并发事务问题</h3><p><strong>脏读</strong></p>
<p>A事务读取到了B事务未提交的数据</p>
<p><strong>不可重复读</strong></p>
<p>一个事务先后读取同一条记录，但两次读取的数据不同，称之为不可重复读</p>
<p><strong>幻读</strong></p>
<p>一个事务按照条件查询数据时，没有对应的数据行，但是在插入行数据时，又发现这行数据已经存在，好像出现了“幻影”</p>
<h3 id="事务隔离级别"><a href="#事务隔离级别" class="headerlink" title="事务隔离级别"></a>事务隔离级别</h3><p><img src="/img/laze.gif" data-original="/img/MySQL/20240709181741158.png" alt="20240709181741158"></p>
<h2 id="MySQL常用命令大全"><a href="#MySQL常用命令大全" class="headerlink" title="MySQL常用命令大全"></a>MySQL常用命令大全</h2><h3 id="基础命令"><a href="#基础命令" class="headerlink" title="基础命令"></a>基础命令</h3><table>
<thead>
<tr>
<th>操作</th>
<th>命令</th>
</tr>
</thead>
<tbody><tr>
<td>连接到 MySQL 数据库</td>
<td><code>mysql -u 用户名 -p</code></td>
</tr>
<tr>
<td>查看所有数据库</td>
<td><code>SHOW DATABASES;</code></td>
</tr>
<tr>
<td>选择一个数据库</td>
<td><code>USE 数据库名;</code></td>
</tr>
<tr>
<td>查看所有表</td>
<td><code>SHOW TABLES;</code></td>
</tr>
<tr>
<td>查看表结构</td>
<td><code>DESCRIBE 表名;</code> 或 <code>SHOW COLUMNS FROM 表名;</code></td>
</tr>
<tr>
<td>创建一个新数据库</td>
<td><code>CREATE DATABASE 数据库名;</code></td>
</tr>
<tr>
<td>删除一个数据库</td>
<td><code>DROP DATABASE 数据库名;</code></td>
</tr>
<tr>
<td>创建一个新表</td>
<td><code>CREATE TABLE 表名 (列名1 数据类型 [约束], 列名2 数据类型 [约束], ...);</code></td>
</tr>
<tr>
<td>删除一个表</td>
<td><code>DROP TABLE 表名;</code></td>
</tr>
<tr>
<td>插入数据</td>
<td><code>INSERT INTO 表名 (列1, 列2, ...) VALUES (值1, 值2, ...);</code></td>
</tr>
<tr>
<td>查询数据</td>
<td><code>SELECT 列1, 列2, ... FROM 表名 WHERE 条件;</code></td>
</tr>
<tr>
<td>更新数据</td>
<td><code>UPDATE 表名 SET 列1 = 值1, 列2 = 值2, ... WHERE 条件;</code></td>
</tr>
<tr>
<td>删除数据</td>
<td><code>DELETE FROM 表名 WHERE 条件;</code></td>
</tr>
<tr>
<td>创建用户</td>
<td><code>CREATE USER &#39;用户名&#39;@&#39;主机&#39; IDENTIFIED BY &#39;密码&#39;;</code></td>
</tr>
<tr>
<td>授权用户</td>
<td><code>GRANT 权限 ON 数据库名.* TO &#39;用户名&#39;@&#39;主机&#39;;</code></td>
</tr>
<tr>
<td>刷新权限</td>
<td><code>FLUSH PRIVILEGES;</code></td>
</tr>
<tr>
<td>查看当前用户</td>
<td><code>SELECT USER();</code></td>
</tr>
<tr>
<td>退出 MySQL</td>
<td><code>EXIT;</code></td>
</tr>
</tbody></table>
<h3 id="数据库相关命令"><a href="#数据库相关命令" class="headerlink" title="数据库相关命令"></a>数据库相关命令</h3><p>下面是与 MySQL 数据库操作相关的命令，包括创建、删除和修改数据库等操作：</p>
<table>
<thead>
<tr>
<th>操作</th>
<th>命令</th>
</tr>
</thead>
<tbody><tr>
<td><strong>创建数据库</strong></td>
<td><code>CREATE DATABASE 数据库名;</code></td>
</tr>
<tr>
<td><strong>删除数据库</strong></td>
<td><code>DROP DATABASE 数据库名;</code></td>
</tr>
<tr>
<td><strong>修改数据库编码格式和排序规则</strong></td>
<td><code>ALTER DATABASE 数据库名 DEFAULT CHARACTER SET 编码格式 DEFAULT COLLATE 排序规则;</code></td>
</tr>
<tr>
<td><strong>查看所有数据库</strong></td>
<td><code>SHOW DATABASES;</code></td>
</tr>
<tr>
<td><strong>查看数据库详细信息</strong></td>
<td><code>SHOW CREATE DATABASE 数据库名;</code></td>
</tr>
<tr>
<td><strong>选择数据库</strong></td>
<td><code>USE 数据库名;</code></td>
</tr>
<tr>
<td><strong>查看数据库的状态信息</strong></td>
<td><code>SHOW STATUS;</code></td>
</tr>
<tr>
<td><strong>查看数据库的错误信息</strong></td>
<td><code>SHOW ERRORS;</code></td>
</tr>
<tr>
<td><strong>查看数据库的警告信息</strong></td>
<td><code>SHOW WARNINGS;</code></td>
</tr>
<tr>
<td><strong>查看数据库的表</strong></td>
<td><code>SHOW TABLES;</code></td>
</tr>
<tr>
<td><strong>查看表的结构</strong></td>
<td><code>DESC 表名;</code> <code>DESCRIBE 表名;</code> <code>SHOW COLUMNS FROM 表名;</code> <code>EXPLAIN 表名;</code></td>
</tr>
<tr>
<td><strong>创建表</strong></td>
<td><code>CREATE TABLE 表名 (列名1 数据类型 [约束], 列名2 数据类型 [约束], ...);</code></td>
</tr>
<tr>
<td><strong>删除表</strong></td>
<td><code>DROP TABLE 表名;</code></td>
</tr>
<tr>
<td><strong>修改表结构</strong></td>
<td><code>ALTER TABLE 表名 ADD 列名 数据类型 [约束];</code> <code>ALTER TABLE 表名 DROP 列名;</code> <code>ALTER TABLE 表名 MODIFY 列名 数据类型 [约束];</code></td>
</tr>
<tr>
<td><strong>查看表的创建 SQL</strong></td>
<td><code>SHOW CREATE TABLE 表名;</code></td>
</tr>
</tbody></table>
<h3 id="数据表相关命令"><a href="#数据表相关命令" class="headerlink" title="数据表相关命令"></a>数据表相关命令</h3><p>以下是与 MySQL 数据表相关的常用命令，包括创建、修改、删除表以及查看表的结构和数据等操作：</p>
<table>
<thead>
<tr>
<th>操作</th>
<th>命令</th>
</tr>
</thead>
<tbody><tr>
<td><strong>创建表</strong></td>
<td><code>CREATE TABLE 表名 (列名1 数据类型 [约束], 列名2 数据类型 [约束], ...);</code></td>
</tr>
<tr>
<td><strong>删除表</strong></td>
<td><code>DROP TABLE 表名;</code></td>
</tr>
<tr>
<td><strong>修改表结构</strong></td>
<td>添加列: <code>ALTER TABLE 表名 ADD 列名 数据类型 [约束];</code> 删除列: <code>ALTER TABLE 表名 DROP 列名;</code> 修改列: <code>ALTER TABLE 表名 MODIFY 列名 数据类型 [约束];</code> 重命名列: <code>ALTER TABLE 表名 CHANGE 旧列名 新列名 数据类型 [约束];</code></td>
</tr>
<tr>
<td><strong>查看表结构</strong></td>
<td><code>DESC 表名;</code> <code>DESCRIBE 表名;</code> <code>SHOW COLUMNS FROM 表名;</code> <code>EXPLAIN 表名;</code></td>
</tr>
<tr>
<td><strong>查看表的创建 SQL</strong></td>
<td><code>SHOW CREATE TABLE 表名;</code></td>
</tr>
<tr>
<td><strong>查看表中的所有数据</strong></td>
<td><code>SELECT * FROM 表名;</code></td>
</tr>
<tr>
<td><strong>插入数据</strong></td>
<td><code>INSERT INTO 表名 (列1, 列2, ...) VALUES (值1, 值2, ...);</code></td>
</tr>
<tr>
<td><strong>更新数据</strong></td>
<td><code>UPDATE 表名 SET 列1 = 值1, 列2 = 值2, ... WHERE 条件;</code></td>
</tr>
<tr>
<td><strong>删除数据</strong></td>
<td><code>DELETE FROM 表名 WHERE 条件;</code></td>
</tr>
<tr>
<td><strong>查看表的索引</strong></td>
<td><code>SHOW INDEX FROM 表名;</code></td>
</tr>
<tr>
<td><strong>创建索引</strong></td>
<td><code>CREATE INDEX 索引名 ON 表名 (列名);</code></td>
</tr>
<tr>
<td><strong>删除索引</strong></td>
<td><code>DROP INDEX 索引名 ON 表名;</code></td>
</tr>
<tr>
<td><strong>查看表的约束</strong></td>
<td><code>SHOW CREATE TABLE 表名;</code> (约束信息会包含在创建表的 SQL 中)</td>
</tr>
<tr>
<td><strong>查看表的统计信息</strong></td>
<td><code>SHOW TABLE STATUS LIKE &#39;表名&#39;;</code></td>
</tr>
</tbody></table>
<h3 id="MySQL-事务相关命令"><a href="#MySQL-事务相关命令" class="headerlink" title="MySQL 事务相关命令"></a>MySQL 事务相关命令</h3><p>以下是与 MySQL 事务相关的常用命令：</p>
<table>
<thead>
<tr>
<th>操作</th>
<th>命令</th>
</tr>
</thead>
<tbody><tr>
<td><strong>开始事务</strong></td>
<td><code>START TRANSACTION;</code> 或 <code>BEGIN;</code></td>
</tr>
<tr>
<td><strong>提交事务</strong></td>
<td><code>COMMIT;</code></td>
</tr>
<tr>
<td><strong>回滚事务</strong></td>
<td><code>ROLLBACK;</code></td>
</tr>
<tr>
<td><strong>查看当前事务的状态</strong></td>
<td><code>SHOW ENGINE INNODB STATUS;</code> (可查看 InnoDB 存储引擎的事务状态)</td>
</tr>
<tr>
<td><strong>锁定表以进行事务操作</strong></td>
<td><code>LOCK TABLES 表名 WRITE;</code> 或 <code>LOCK TABLES 表名 READ;</code></td>
</tr>
<tr>
<td><strong>释放锁定的表</strong></td>
<td><code>UNLOCK TABLES;</code></td>
</tr>
<tr>
<td><strong>设置事务的隔离级别</strong></td>
<td><code>SET TRANSACTION ISOLATION LEVEL READ COMMITTED;</code> <code>SET TRANSACTION ISOLATION LEVEL REPEATABLE READ;</code> <code>SET TRANSACTION ISOLATION LEVEL SERIALIZABLE;</code> <code>SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED;</code></td>
</tr>
</tbody></table>
<p>注明：基础篇已完结，本学习分享大部分记录了本人学习<a target="_blank" rel="noopener" href="https://www.itcast.cn/">黑马程序员</a>MySQL系列课程的笔记，主要便于个人复习，也希望能给各位带来帮助，如有任何不足之处请指正！</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://youyuanhui123.github.io">Xi17g3</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://youyuanhui123.github.io/2024/08/23/MySQL%E4%BB%8E%E5%AE%89%E8%A3%85%E5%88%B0%E7%B2%BE%E9%80%9A-%E4%B8%80-%E5%9F%BA%E7%A1%80%E7%AF%87/">http://youyuanhui123.github.io/2024/08/23/MySQL从安装到精通-一-基础篇/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://youyuanhui123.github.io" target="_blank">园游会</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/MySQL/">MySQL</a></div><div class="post-share"><div class="social-share" data-image="/img/Xi17g3.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/laze.gif" data-original="/img/wechat.jpg" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/laze.gif" data-original="/img/alipay.jpg" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><a class="prev-post pull-full" href="/2024/09/10/MySQL%E4%BB%8E%E5%AE%89%E8%A3%85%E5%88%B0%E7%B2%BE%E9%80%9A-%E4%BA%8C-%E8%BF%9B%E9%98%B6%E7%AF%87/" title="MySQL从安装到精通(二)---进阶篇"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">MySQL从安装到精通(二)---进阶篇</div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info is-center"><div class="avatar-img"><img src="/img/laze.gif" data-original="/img/Xi17g3.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Xi17g3</div><div class="author-info-description">琥珀色黄昏像糖在很美的远方</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">3</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/youyuanhui123"><i class="fab fa-github"></i><span>关注我</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://youyuanhui123/github.com/" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://blog.csdn.net/2301_80708520" target="_blank" title="CSDN"><i class="fa fa-book-open"></i></a><a class="social-icon" href="tencent://AddContact/?fromId=45&amp;fromSubId=1&amp;subcmd=all&amp;uin=1469443539&amp;website=www.oicqzone.com" target="_blank" title="QQ"><i class="fab fa-qq"></i></a><a class="social-icon" href="mailto:1469443539@qq.com" target="_blank" title="Email"><i class="fas fa-envelope-open-text"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80-%E5%9F%BA%E7%A1%80%E7%AF%87"><span class="toc-text">(一)基础篇</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#By-Xi17g3"><span class="toc-text">By Xi17g3</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MySQL%E6%A6%82%E8%BF%B0"><span class="toc-text">MySQL概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E6%9C%9F%E5%87%86%E5%A4%87"><span class="toc-text">前期准备</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL%E7%9A%84%E4%B8%8B%E8%BD%BD%E4%B8%8E%E5%AE%89%E8%A3%85"><span class="toc-text">MySQL的下载与安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E8%A7%86%E5%8C%96%E8%BD%AF%E4%BB%B6DataGrip%E7%9A%84%E5%AE%89%E8%A3%85"><span class="toc-text">可视化软件DataGrip的安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFMySQL%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">什么是MySQL数据库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SQL"><span class="toc-text">SQL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#SQL%E9%80%9A%E7%94%A8%E8%AF%AD%E6%B3%95%E5%8F%8A%E5%88%86%E7%B1%BB"><span class="toc-text">SQL通用语法及分类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DDL-%E7%94%A8%E6%9D%A5%E5%AE%9A%E4%B9%89%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">DDL(用来定义数据库)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C"><span class="toc-text">数据库操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E6%93%8D%E4%BD%9C"><span class="toc-text">表操作</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%93%8D%E4%BD%9C"><span class="toc-text">数据操作</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B"><span class="toc-text">数值类型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%B1%BB%E5%9E%8B"><span class="toc-text">字符串类型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E7%B1%BB%E5%9E%8B"><span class="toc-text">日期类型</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E5%A2%9E%E5%88%A0%E6%94%B9"><span class="toc-text">表增删改</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0"><span class="toc-text">增加</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A0%E9%99%A4"><span class="toc-text">删除</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9"><span class="toc-text">修改</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DML-%E7%94%A8%E6%9D%A5%E4%BF%AE%E6%94%B9%E5%AF%B9%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E7%9A%84%E8%A1%A8"><span class="toc-text">DML(用来修改对数据库中的表)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0"><span class="toc-text">添加</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE"><span class="toc-text">查找</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9-1"><span class="toc-text">修改</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4-1"><span class="toc-text">删除</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DQL-%E7%94%A8%E6%9D%A5%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E8%A1%A8%E7%9A%84%E8%AE%B0%E5%BD%95"><span class="toc-text">&#x3D;&#x3D;DQL(用来查询数据库中表的记录)&#x3D;&#x3D;</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E5%87%86%E5%A4%87"><span class="toc-text">基础准备</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%9F%A5%E8%AF%A2"><span class="toc-text">基本查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-text">条件查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%81%9A%E5%90%88%E5%87%BD%E6%95%B0"><span class="toc-text">聚合函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2"><span class="toc-text">分组查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2"><span class="toc-text">排序查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2"><span class="toc-text">分页查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F"><span class="toc-text">执行顺序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DCL-%E7%94%A8%E6%9D%A5%E7%AE%A1%E7%90%86%E6%95%B0%E6%8D%AE%E5%BA%93%E7%94%A8%E6%88%B7"><span class="toc-text">DCL(用来管理数据库用户)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%87%BD%E6%95%B0"><span class="toc-text">函数</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0"><span class="toc-text">字符串函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E5%87%BD%E6%95%B0"><span class="toc-text">数值函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0"><span class="toc-text">日期函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%81%E7%A8%8B%E5%87%BD%E6%95%B0"><span class="toc-text">流程函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-text">小结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%A6%E6%9D%9F"><span class="toc-text">约束</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%96%E9%94%AE"><span class="toc-text">外键</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%96%E9%94%AE%E5%88%A0%E9%99%A4%E6%9B%B4%E6%96%B0%E8%A1%8C%E4%B8%BA"><span class="toc-text">外键删除更新行为</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-text">多表查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E5%85%B3%E7%B3%BB"><span class="toc-text">多表关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-text">概述</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E8%BF%9E%E6%8E%A5"><span class="toc-text">内连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-text">外连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E8%BF%9E%E6%8E%A5"><span class="toc-text">自连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="toc-text">联合查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-text">子查询</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%87%E9%87%8F%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-text">标量子查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%97%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-text">列子查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A1%8C%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-text">行子查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A1%A8%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-text">表子查询</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B"><span class="toc-text">&#x3D;&#x3D;案例&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1"><span class="toc-text">事务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E6%93%8D%E4%BD%9C"><span class="toc-text">事务操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E5%9B%9B%E5%A4%A7%E7%89%B9%E6%80%A7"><span class="toc-text">事务四大特性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E4%BA%8B%E5%8A%A1%E9%97%AE%E9%A2%98"><span class="toc-text">并发事务问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BA%8B%E5%8A%A1%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB"><span class="toc-text">事务隔离级别</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MySQL%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%A4%A7%E5%85%A8"><span class="toc-text">MySQL常用命令大全</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4"><span class="toc-text">基础命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-text">数据库相关命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-text">数据表相关命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL-%E4%BA%8B%E5%8A%A1%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-text">MySQL 事务相关命令</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/10/MySQL%E4%BB%8E%E5%AE%89%E8%A3%85%E5%88%B0%E7%B2%BE%E9%80%9A-%E4%B8%89-%E8%BF%90%E7%BB%B4%E7%AF%87/" title="MySQL从安装到精通(三)---运维篇">MySQL从安装到精通(三)---运维篇</a><time datetime="2024-09-10T10:25:36.000Z" title="发表于 2024-09-10 18:25:36">2024-09-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/09/10/MySQL%E4%BB%8E%E5%AE%89%E8%A3%85%E5%88%B0%E7%B2%BE%E9%80%9A-%E4%BA%8C-%E8%BF%9B%E9%98%B6%E7%AF%87/" title="MySQL从安装到精通(二)---进阶篇">MySQL从安装到精通(二)---进阶篇</a><time datetime="2024-09-10T10:25:12.000Z" title="发表于 2024-09-10 18:25:12">2024-09-10</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/08/23/MySQL%E4%BB%8E%E5%AE%89%E8%A3%85%E5%88%B0%E7%B2%BE%E9%80%9A-%E4%B8%80-%E5%9F%BA%E7%A1%80%E7%AF%87/" title="MySQL从安装到精通(一)---基础篇">MySQL从安装到精通(一)---基础篇</a><time datetime="2024-08-23T13:46:56.000Z" title="发表于 2024-08-23 21:46:56">2024-08-23</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2024 By Xi17g3</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>(r=>{r.imageLazyLoadSetting.processImages=t;var a=r.imageLazyLoadSetting.isSPA,o=r.imageLazyLoadSetting.preloadRatio||1,d=i();function i(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(t){(a||t)&&(d=i());for(var e,n=0;n<d.length;n++)0<=(e=(e=d[n]).getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(r.innerHeight*o||document.documentElement.clientHeight*o)&&(()=>{var t,e,a,o,i=d[n];e=function(){d=d.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).dataset.loaded||(t.hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(a=new Image,o=t.getAttribute("data-original"),a.onload=function(){t.src=o,t.removeAttribute("data-original"),t.setAttribute("data-loaded",!0),e&&e()},a.onerror=function(){t.removeAttribute("data-original"),t.setAttribute("data-loaded",!1),t.src=o},t.src!==o&&(a.src=o)))})()}function e(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",e),r.addEventListener("resize",e),r.addEventListener("orientationchange",e)})(this);</script></body></html>